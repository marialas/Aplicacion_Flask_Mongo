{% extends 'index.html' %}
{% block contenido %}
<h2 class="mb-4">Lista de Películas</h2>

<table id="tablaPeliculas" class="table table-hover table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Código</th>
      <th>Título</th>
      <th>Protagonista</th>
      <th>Duración</th>
      <th>Resumen</th>
      <th>Género</th>
      <th>Foto</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody id="tablaPeliculas"></tbody>
</table>

<a href="{{ url_for('vistaAgregarPelicula') }}" class="btn btn-primary">➕ Agregar Película</a>

<!-- JQuery y DataTables -->
<link href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<!-- Activar DataTables -->
<script>
  document.addEventListener("DOMContentLoaded", async () => {
    await cargarPeliculas(); 
    $('#tablaPeliculas').DataTable(); 
  });
</script>
{% endblock %}
